# English Plan

## Project Goal
A simple desktop application to index, view, and search for video files within a specified directory.

## Core Features
1.  **Directory Selection**: The user can select a root directory to scan for video files.
2.  **Video File Scanning**: The application will recursively scan the selected directory for common video formats (e.g., .mp4, .avi, .mov, .mkv).
3.  **Metadata Extraction**: For each video found, it will extract and save:
    *   Full file path.
    *   Filename (without extension).
    *   File extension.
    *   Video duration (in HH:MM:SS format).
4.  **Data Storage**: All extracted metadata will be stored in a `videos.json` file. This file will also store user-added tags.
5.  **Asynchronous Processing**: The file scanning and metadata extraction will run in a background thread to keep the UI responsive, displaying a "Loading..." status.
6.  **UI Display**:
    *   A main window to display all controls and data.
    *   A list/table view (Treeview) showing columns: Filename, Duration, Tags, and Path.
    *   A "Select Folder" button to initiate the scan.
    *   A status bar to show current progress or messages.
7.  **Search and Filter**:
    *   A search bar to enter queries.
    *   A dropdown menu to select the search type:
        *   `All`: Search across filename and tags.
        *   `Filename`: Search only in filenames.
        *   `Extension`: Search only in file extensions.
        *   `Tag`: Search only in tags.
8.  **Interactive List**:
    *   **Play Video**: Double-clicking the `Filename` cell for a video will open and play it using the system's default media player.
    *   **Open Containing Folder**: Double-clicking the `Path` cell for a video will open the folder where the file is located.
    *   **Edit Tags**: Double-clicking the `Tags` cell for a video will open a popup window to edit the tags.

## Technical Stack
*   **Language**: Python 3
*   **GUI**: `tkinter` (standard library)
*   **Libraries**:
    *   `os`, `subprocess`, `sys`: For file system navigation and interaction.
    *   `json`: For storing metadata.
    *   `threading`: For background processing.
    *   `opencv-python`: To extract video duration.

---

# 한국어 계획

## 프로젝트 목표
지정된 디렉토리 내의 비디오 파일을 인덱싱하고, 보고, 검색하는 간단한 데스크톱 애플리케이션입니다.

## 핵심 기능
1.  **디렉토리 선택**: 사용자는 비디오 파일을 스캔할 루트 디렉토리를 선택할 수 있습니다.
2.  **비디오 파일 스캔**: 애플리케이션은 선택된 디렉토리에서 일반적인 비디오 형식(예: .mp4, .avi, .mov, .mkv)을 재귀적으로 스캔합니다.
3.  **메타데이터 추출**: 발견된 각 비디오에 대해 다음 정보를 추출하고 저장합니다:
    *   전체 파일 경로.
    *   파일명 (확장자 제외).
    *   파일 확장자.
    *   비디오 길이 (HH:MM:SS 형식).
4.  **데이터 저장**: 추출된 모든 메타데이터는 `videos.json` 파일에 저장됩니다. 이 파일에는 사용자가 추가한 태그도 저장됩니다.
5.  **비동기 처리**: 파일 스캔 및 메타데이터 추출은 백그라운드 스레드에서 실행되어 UI 응답성을 유지하며, "로딩 중..." 상태를 표시합니다.
6.  **UI 표시**:
    *   모든 컨트롤과 데이터를 표시하는 메인 창.
    *   파일명, 길이, 태그, 경로 열을 보여주는 리스트/테이블 뷰 (Treeview).
    *   스캔을 시작하는 "폴더 선택" 버튼.
    *   현재 진행 상황이나 메시지를 보여주는 상태 표시줄.
7.  **검색 및 필터링**:
    *   쿼리를 입력하는 검색창.
    *   검색 유형을 선택하는 드롭다운 메뉴:
        *   `전체`: 파일명과 태그를 함께 검색.
        *   `파일명`: 파일명만 검색.
        *   `확장자`: 파일 확장자만 검색.
        *   `태그`: 태그만 검색.
8.  **리스트 상호작용**:
    *   **비디오 재생**: 비디오의 `파일명` 셀을 더블 클릭하면 시스템의 기본 미디어 플레이어로 비디오를 열고 재생합니다.
    *   **폴더 열기**: 비디오의 `경로` 셀을 더블 클릭하면 파일이 있는 폴더를 엽니다.
    *   **태그 편집**: 비디오의 `태그` 셀을 더블 클릭하면 태그를 편집할 수 있는 팝업 창이 열립니다.

## 기술 스택
*   **언어**: Python 3
*   **GUI**: `tkinter` (표준 라이브러리)
*   **라이브러리**:
    *   `os`, `subprocess`, `sys`: 파일 시스템 탐색 및 상호작용용.
    *   `json`: 메타데이터 저장용.
    *   `threading`: 백그라운드 처리용.
    *   `opencv-python`: 비디오 길이 추출용.